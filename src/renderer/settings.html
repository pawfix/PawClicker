<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <script src="../main/btn.js"></script>
        <link rel="stylesheet" href="styles/settings/settings.css">
        <script src="../assets/clicker.js"></script>
        <script src="../assets/shop.js"></script>
        <script src="../assets/achivements.js" defer></script>
    </head>
    <body>
        <header></header>
        <div class="content">
            <button onclick="closeCurrentWindow()" title="Close window" class="Btn">Cancel</button>
            <button class="Btn" onclick="resetDataCheck()" title="Reset User Data">!!! Reset user Data !!!</button>
        </div>
        <script>
            function resetDataCheck() {
                if (window.confirm('Are you sure?\nThis Will reset your balance, upgrades and achivements')) {
                    resetData();
                    closeCurrentWindow();
                }
            }


        function resetData() {
            // Reset Balance
            data.value = 0;
            data.click = 1;
            data.power = 1;

            // Reset Stat Progress
            statProgress.cash = 0;
            statProgress.clicks = 0;
            statProgress.autoClick = 0;

            // Reset shop
            shop.clicks = 1;
            shop.power = 1;
            shop.auto = 0;
            shop.value = 0;

            // Reset advancements
            advancements.firstClick = false;
            advancements.openedSettings = false;
            advancements.clicks = { '100': false, '1000': false, '5000': false, '50000': false };
            advancements.cash = { '100': false, '1000': false, '5000': false, '50000': false };
            advancements.auto = { '1': false, '5': false, '25': false };

            // Save and update related data
            ipcRenderer.send('resetStatProgress')
            saveShop();
            saveStats();
            saveStatProgress();
            ipcRenderer.send('updateUserStats', { advancements });
            closeCurrentWindow();
            updateDisplay();
        }
        </script>
    </body>
</html>